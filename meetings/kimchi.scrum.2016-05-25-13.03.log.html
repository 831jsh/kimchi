<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>#kimchi log</title>
<style type="text/css">
/* For the .log.html */
pre { /*line-height: 125%;*/
      white-space: pre-wrap; }
body { background: #f0f0f0; }

body .tm  { color: #007020 }                      /* time */
body .nk  { color: #062873; font-weight: bold }   /* nick, regular */
body .nka { color: #007020; font-weight: bold }  /* action nick */
body .ac  { color: #00A000 }                      /* action line */
body .hi  { color: #4070a0 }                 /* hilights */
/* Things to make particular MeetBot commands stick out */
body .topic     { color: #007020; font-weight: bold }
body .topicline { color: #000080; font-weight: bold }
body .cmd       { color: #007020; font-weight: bold }
body .cmdline  { font-weight: bold }

</style>
</head>

<body>
<pre><a name="l-1"></a><span class="tm">13:03:34</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#startmeeting</span><span class="cmdline"></span>
<a name="l-2"></a><span class="tm">13:03:34</span><span class="nk"> &lt;kimchi-bot&gt;</span> Meeting started Wed May 25 13:03:34 2016 UTC.  The chair is alinefm. Information about MeetBot at http://wiki.debian.org/MeetBot.
<a name="l-3"></a><span class="tm">13:03:34</span><span class="nk"> &lt;kimchi-bot&gt;</span> Useful Commands: #action #agreed #help #info #idea #link #topic.
<a name="l-4"></a><span class="tm">13:03:34</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#meetingname </span><span class="cmdline">scrum</span>
<a name="l-5"></a><span class="tm">13:03:34</span><span class="nk"> &lt;kimchi-bot&gt;</span> The meeting name has been set to 'scrum'
<a name="l-6"></a><span class="tm">13:03:43</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">Agenda</span>
<a name="l-7"></a><span class="tm">13:03:43</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">1) Status</span>
<a name="l-8"></a><span class="tm">13:03:43</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">2) Open discussion</span>
<a name="l-9"></a><span class="tm">13:03:43</span><span class="nk"> &lt;alinefm&gt;</span> anything else?
<a name="l-10"></a><span class="tm">13:03:56</span><span class="nk"> &lt;pvital&gt;</span> no
<a name="l-11"></a><span class="tm">13:04:03</span><span class="nk"> &lt;ramonn&gt;</span> nop
<a name="l-12"></a><span class="tm">13:04:50</span><span class="nk"> &lt;rotru&gt;</span> Morning
<a name="l-13"></a><span class="tm">13:05:20</span><span class="nk"> &lt;alinefm&gt;</span> so let's get started
<a name="l-14"></a><span class="tm">13:05:34</span><span class="nk"> &lt;alinefm&gt;</span> <span class="topic">#topic </span><span class="topicline">Status</span>
<a name="l-15"></a><span class="tm">13:05:34</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">Please provide your status using the #info command: #info [&lt;project] &lt;nickname&gt; &lt;status&gt;</span>
<a name="l-16"></a><span class="tm">13:06:05</span><span class="nk"> &lt;ziviani&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] ziviani is working on multi-function pci hotplug</span>
<a name="l-17"></a><span class="tm">13:06:05</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro Sent v2 patch to ML for Edit Virtual Network with</span>
<a name="l-18"></a><span class="tm">13:06:06</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro passthrough support and including addressing issues from</span>
<a name="l-19"></a><span class="tm">13:06:06</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro feedback; got applied upstream along with</span>
<a name="l-20"></a><span class="tm">13:06:06</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro alinefm's patch to complete edit virtual network feature</span>
<a name="l-21"></a><span class="tm">13:06:06</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro Working on another issue from feedback regarding</span>
<a name="l-22"></a><span class="tm">13:06:06</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro interfaces showing only for first one even if there are more</span>
<a name="l-23"></a><span class="tm">13:06:08</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro than one chosen by user.  This is an existing bug and not</span>
<a name="l-24"></a><span class="tm">13:06:10</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro introduced by edit virtual network patch. Sent proposal</span>
<a name="l-25"></a><span class="tm">13:06:12</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro to ML on how to display that and currently working on that.</span>
<a name="l-26"></a><span class="tm">13:06:16</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro Revisited some github UI issues and added comments on them</span>
<a name="l-27"></a><span class="tm">13:06:18</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] socorro as some may no longer be valid.</span>
<a name="l-28"></a><span class="tm">13:06:39</span><span class="nk"> &lt;peterpennings&gt;</span> <span class="cmd">#info </span><span class="cmdline">[gingerbase] peterpennings is working in some changes on update selected packages only</span>
<a name="l-29"></a><span class="tm">13:06:49</span><span class="nk"> &lt;ziviani&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] ziviani sent a patch to fix the log search by time</span>
<a name="l-30"></a><span class="tm">13:06:51</span><span class="nk"> &lt;ramonn&gt;</span> <span class="cmd">#info </span><span class="cmdline">[ginger] read the rpm guidelines and provided fix for issue 334</span>
<a name="l-31"></a><span class="tm">13:07:07</span><span class="nk"> &lt;ramonn&gt;</span> <span class="cmd">#info </span><span class="cmdline">[ginger] ramonn  read the rpm guidelines and provided fix for issue 334</span>
<a name="l-32"></a><span class="tm">13:07:10</span><span class="nk"> &lt;ziviani&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] ziviani sent a patch to fix an issue on serial console</span>
<a name="l-33"></a><span class="tm">13:07:32</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] alinefm helped socorro with edit network UI issues</span>
<a name="l-34"></a><span class="tm">13:07:58</span><span class="nk"> &lt;pvital&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Kimchi] pvital submitted V2 of patch "Isolate unit tests execution."</span>
<a name="l-35"></a><span class="tm">13:07:58</span><span class="nk"> &lt;pvital&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Kimchi] pvital submitted V4 of patch "Add support to Libvirt Events."</span>
<a name="l-36"></a><span class="tm">13:07:58</span><span class="nk"> &lt;pvital&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Wok] pvital is investigating some performance issues in wokd (high CPU consumption when idle)</span>
<a name="l-37"></a><span class="tm">13:07:58</span><span class="nk"> &lt;pvital&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Wok] pvital is working on Kimchi issue #78 (actually a Wok issue) - make async task stopable</span>
<a name="l-38"></a><span class="tm">13:07:58</span><span class="nk"> &lt;pvital&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Wok] [Kimchi] [Ginger*] pvital reviewed (few) patches (this last week)</span>
<a name="l-39"></a><span class="tm">13:08:14</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#info </span><span class="cmdline">[wok] alinefm sent patch to fix issue on user log activity (user log was displaying "No results found" even when there were logs)</span>
<a name="l-40"></a><span class="tm">13:08:48</span><span class="nk"> &lt;lcorreia&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] lcorreia sent to ML V2,V3,V4 for handling libvirt event ENOSPC</span>
<a name="l-41"></a><span class="tm">13:08:48</span><span class="nk"> &lt;lcorreia&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] lcorreia testing V4 for handling libvirt event ENOSPC with Ziviani's timeout reduction patch</span>
<a name="l-42"></a><span class="tm">13:08:48</span><span class="nk"> &lt;lcorreia&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] lcorreia helped Aline and Socorro testing edit network UI</span>
<a name="l-43"></a><span class="tm">13:08:48</span><span class="nk"> &lt;lcorreia&gt;</span> <span class="cmd">#info </span><span class="cmdline">[ginger] lcorreia got upstream patch to make fibre channel listing arch-independent</span>
<a name="l-44"></a><span class="tm">13:08:49</span><span class="nk"> &lt;lcorreia&gt;</span> <span class="cmd">#info </span><span class="cmdline">[wok] lcorreia got upstream patches for translation of User Request Log messages</span>
<a name="l-45"></a><span class="tm">13:08:49</span><span class="nk"> &lt;lcorreia&gt;</span> <span class="cmd">#info </span><span class="cmdline">[wok] lcorreia got upstream fix for an inconsistency bug on user log download url</span>
<a name="l-46"></a><span class="tm">13:08:51</span><span class="nk"> &lt;lcorreia&gt;</span> <span class="cmd">#info </span><span class="cmdline">[wok] lcorreia investigated UI issue #109: make async notifications persistent across tabs</span>
<a name="l-47"></a><span class="tm">13:09:00</span><span class="nk"> &lt;danielhb&gt;</span> <span class="cmd">#info </span><span class="cmdline">[*] danielhb reviewed and applied patches</span>
<a name="l-48"></a><span class="tm">13:09:25</span><span class="nk"> &lt;danielhb&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Kimchi]  danielhb implemented a new libvirt network type in Kimchi called 'passthrough'</span>
<a name="l-49"></a><span class="tm">13:09:51</span><span class="nk"> &lt;danielhb&gt;</span> <span class="cmd">#info </span><span class="cmdline">[ginger]  danielhb is at this moment working in SR-IOV fixes after testing the backend in real hardware</span>
<a name="l-50"></a><span class="tm">13:12:58</span><span class="nk"> &lt;rotru&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Kimchi] rotru Completely separated guest static updates functions from live update functions;</span>
<a name="l-51"></a><span class="tm">13:12:58</span><span class="nk"> &lt;rotru&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Kimchi] rotru Fixed mockmodel functions to support memory devices;</span>
<a name="l-52"></a><span class="tm">13:12:58</span><span class="nk"> &lt;rotru&gt;</span> <span class="cmd">#info </span><span class="cmdline">[GingerBase] rotru Sent patch to improved capabilities and their log messages [waiting review/commit];</span>
<a name="l-53"></a><span class="tm">13:12:58</span><span class="nk"> &lt;rotru&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Kimchi] rotru Sent patch to add feature tests log messages [waiting review/commit];</span>
<a name="l-54"></a><span class="tm">13:14:30</span><span class="nk"> &lt;samhenri&gt;</span> <span class="cmd">#info </span><span class="cmdline">[kimchi] samhenri sent Storage Management patch v5</span>
<a name="l-55"></a><span class="tm">13:17:35</span><span class="nk"> &lt;rotru&gt;</span> <span class="cmd">#info </span><span class="cmdline">[Kimchi] rotru Finished final version (v2) of Memory HotPlug support to memory devices greater than 1GB.</span>
<a name="l-56"></a><span class="tm">13:19:35</span><span class="nk"> &lt;alinefm&gt;</span> anything else?
<a name="l-57"></a><span class="tm">13:19:50</span><span class="nk"> &lt;lcorreia&gt;</span> no
<a name="l-58"></a><span class="tm">13:20:18</span><span class="nk"> &lt;alinefm&gt;</span> <span class="topic">#topic </span><span class="topicline">Open Discussion</span>
<a name="l-59"></a><span class="tm">13:20:23</span><span class="nk"> &lt;alinefm&gt;</span> any other topic for today?
<a name="l-60"></a><span class="tm">13:20:52</span><span class="nk"> &lt;lagarcia&gt;</span> peterpennings, do you have any questions pending on the update selected packages UI?
<a name="l-61"></a><span class="tm">13:21:19</span><span class="nk"> &lt;peterpennings&gt;</span> lagarcia, no
<a name="l-62"></a><span class="tm">13:21:32</span><span class="nk"> &lt;pvital&gt;</span> I have a question. Actually a help message :-P
<a name="l-63"></a><span class="tm">13:21:39</span><span class="nk"> &lt;lagarcia&gt;</span> peterpennings, ok. good. thx.
<a name="l-64"></a><span class="tm">13:21:57</span><span class="nk"> &lt;lagarcia&gt;</span> pvital, but I am not looking for help right now (I think)
<a name="l-65"></a><span class="tm">13:23:01</span><span class="nk"> &lt;alinefm&gt;</span> hehehe
<a name="l-66"></a><span class="tm">13:23:05</span><span class="nk"> &lt;peterpennings&gt;</span> lagarcia, I just want to suggest a new way to deal with async tasks
<a name="l-67"></a><span class="tm">13:23:19</span><span class="nk"> &lt;peterpennings&gt;</span> but it can be another discussion
<a name="l-68"></a><span class="tm">13:23:26</span><span class="nk"> &lt;pvital&gt;</span> I'm investigating about "gracefully kill an AsyncTask", and noticed that, there's no way in Wok to kill a process (subprocess.Popen) called by a thread (that is started in AsyncTasl class)
<a name="l-69"></a><span class="tm">13:23:52</span><span class="nk"> &lt;pvital&gt;</span> do you guys have any idea how to kill the process?
<a name="l-70"></a><span class="tm">13:24:22</span><span class="nk"> &lt;alinefm&gt;</span> pvital, I think even AsyncTask must have a function to kill its process and do a cleanup
<a name="l-71"></a><span class="tm">13:24:38</span><span class="nk"> &lt;alinefm&gt;</span> we can not only kill the process and leave leftovers in the system
<a name="l-72"></a><span class="tm">13:25:02</span><span class="nk"> &lt;pvital&gt;</span> I did some tests using multiprocessing instead of multhreading, but the child process still runs after I send a SIGKILL (or SIGTERM) signal to the process
<a name="l-73"></a><span class="tm">13:26:17</span><span class="nk"> &lt;alinefm&gt;</span> take care when using multithreading... it conflicts with cherrypy threads
<a name="l-74"></a><span class="tm">13:26:33</span><span class="nk"> &lt;pvital&gt;</span> alinefm, I don't think so. AsyncTask used multithreading instead of extend it.
<a name="l-75"></a><span class="tm">13:26:42</span><span class="nk"> &lt;alinefm&gt;</span> pvital, does SIGKILL work?
<a name="l-76"></a><span class="tm">13:26:42</span><span class="nk"> &lt;pvital&gt;</span> s/used/usus
<a name="l-77"></a><span class="tm">13:26:45</span><span class="nk"> &lt;pvital&gt;</span> uses
<a name="l-78"></a><span class="tm">13:28:07</span><span class="nk"> &lt;pvital&gt;</span> alinefm, no! in my tests I send an os.killpg(pid, signal.SIGKILL) but it raises an error saying "No such process"
<a name="l-79"></a><span class="tm">13:28:28</span><span class="nk"> &lt;alinefm&gt;</span> we can not have a single way to stop a task as we don't know by hand how this task is running
<a name="l-80"></a><span class="tm">13:28:38</span><span class="nk"> &lt;pvital&gt;</span> but the process is there, up and running
<a name="l-81"></a><span class="tm">13:28:41</span><span class="nk"> &lt;alinefm&gt;</span> a task can be a python function or an external command or anything...
<a name="l-82"></a><span class="tm">13:28:56</span><span class="nk"> &lt;alinefm&gt;</span> pvital, how did you save the pid when started the task?
<a name="l-83"></a><span class="tm">13:30:28</span><span class="nk"> &lt;pvital&gt;</span> alinefm, yeah, that's also something I was thinking about. Since user creates a function and passes this function to AsyncTask constructor, I don't know if this function is using run_command or not!
<a name="l-84"></a><span class="tm">13:31:38</span><span class="nk"> &lt;alinefm&gt;</span> exactly
<a name="l-85"></a><span class="tm">13:31:39</span><span class="nk"> &lt;pvital&gt;</span> alinefm, in this case I'm using multiprocessing instead of threading. then I can get the PID of the new process
<a name="l-86"></a><span class="tm">13:31:57</span><span class="nk"> &lt;alinefm&gt;</span> because that I am saying each Async Task must pass the kill function as a parameter
<a name="l-87"></a><span class="tm">13:32:54</span><span class="nk"> &lt;lcorreia&gt;</span> alinefm, pvital perhaps we could subclass asynctask for the few? modes of execution
<a name="l-88"></a><span class="tm">13:33:55</span><span class="nk"> &lt;pvital&gt;</span> alinefm, I think this issue (https://github.com/kimchi-project/kimchi/issues/78) is too complex. We need think in something to control the tasks different that only start the thread and get the results storing the output on objectstore
<a name="l-89"></a><span class="tm">13:34:42</span><span class="nk"> &lt;alinefm&gt;</span> agree
<a name="l-90"></a><span class="tm">13:34:50</span><span class="nk"> &lt;alinefm&gt;</span> nobody said it was simple =P
<a name="l-91"></a><span class="tm">13:35:12</span><span class="nk"> &lt;alinefm&gt;</span> lcorreia, could you elaborate?
<a name="l-92"></a><span class="tm">13:36:25</span><span class="nk"> &lt;lcorreia&gt;</span> alinefm, for example... if the task uses run_command, instantiate CommandAsyncTask, with a specific kill method
<a name="l-93"></a><span class="tm">13:36:51</span><span class="nk"> &lt;pvital&gt;</span> alinefm, interesting idea about extent AsyncTask implementation to also receive the "kill function"
<a name="l-94"></a><span class="tm">13:37:43</span><span class="nk"> &lt;pvital&gt;</span> then, the kill process will be responsibility of the developer who is using AsyncTask
<a name="l-95"></a><span class="tm">13:37:53</span><span class="nk"> &lt;alinefm&gt;</span> yeap
<a name="l-96"></a><span class="tm">13:38:25</span><span class="nk"> &lt;alinefm&gt;</span> lcorreia, we can also do that as some tasks use run_command but either way we will need a cleanup function to restore the system state
<a name="l-97"></a><span class="tm">13:38:55</span><span class="nk"> &lt;alinefm&gt;</span> for example, while generating a debugreport it uses run_command + sosreport, if we only kill the process some leftovers will be on system
<a name="l-98"></a><span class="tm">13:39:04</span><span class="nk"> &lt;alinefm&gt;</span> we need to restore the system state
<a name="l-99"></a><span class="tm">13:39:13</span><span class="nk"> &lt;lcorreia&gt;</span> alinefm, I see
<a name="l-100"></a><span class="tm">13:39:18</span><span class="nk"> &lt;pvital&gt;</span> but we still need extend how wok control the tasks! today, we only start it (creating and startinf a thread) and get the output and update it's status
<a name="l-101"></a><span class="tm">13:39:45</span><span class="nk"> &lt;alinefm&gt;</span> pvital, we continue to not be able to change a task status
<a name="l-102"></a><span class="tm">13:39:57</span><span class="nk"> &lt;alinefm&gt;</span> we will need to create a new API DELETE /tasks/&lt;id&gt;
<a name="l-103"></a><span class="tm">13:40:10</span><span class="nk"> &lt;alinefm&gt;</span> this delete operation will kill the Task
<a name="l-104"></a><span class="tm">13:40:25</span><span class="nk"> &lt;pvital&gt;</span> alinefm, not only this!
<a name="l-105"></a><span class="tm">13:42:08</span><span class="nk"> &lt;peterpennings&gt;</span> guys, I know you are discussing a specific point of Async tasks. If you are going to rethink this API, can we consider some UI problems?
<a name="l-106"></a><span class="tm">13:42:26</span><span class="nk"> &lt;alinefm&gt;</span> peterpennings, sure
<a name="l-107"></a><span class="tm">13:44:41</span><span class="nk"> &lt;peterpennings&gt;</span> The UI can't control anything with this tasks. I really want to pass this control to the backend, and it could be persisted. This problem is happening not just with the packages update, but in all system
<a name="l-108"></a><span class="tm">13:46:00</span><span class="nk"> &lt;peterpennings&gt;</span> There is one point in the UI where the code extends de session time out to keep informations in the window. It doesnt make sense
<a name="l-109"></a><span class="tm">13:47:11</span><span class="nk"> &lt;alinefm&gt;</span> peterpennings, I don't see any other scenario than package update when the tasks are not doing what is expected
<a name="l-110"></a><span class="tm">13:47:18</span><span class="nk"> &lt;alinefm&gt;</span> could you give an example?
<a name="l-111"></a><span class="tm">13:49:32</span><span class="nk"> &lt;samhenri&gt;</span> for instance, with live migration or cloning guests
<a name="l-112"></a><span class="tm">13:49:45</span><span class="nk"> &lt;samhenri&gt;</span> i did a test here, started the process and logout
<a name="l-113"></a><span class="tm">13:49:56</span><span class="nk"> &lt;samhenri&gt;</span> then started wok with a private window
<a name="l-114"></a><span class="tm">13:50:22</span><span class="nk"> &lt;peterpennings&gt;</span> Any async task lose informations when changing tabs, or using anonymous window, os session time out.
<a name="l-115"></a><span class="tm">13:50:34</span><span class="nk"> &lt;alinefm&gt;</span> I doubt about that
<a name="l-116"></a><span class="tm">13:50:42</span><span class="nk"> &lt;alinefm&gt;</span> let me explain
<a name="l-117"></a><span class="tm">13:50:43</span><span class="nk"> &lt;samhenri&gt;</span> the guests tab wasn't showing the cloning and migrating guests
<a name="l-118"></a><span class="tm">13:50:54</span><span class="nk"> &lt;alinefm&gt;</span> samhenri, I agree! but because an issue on UI logic
<a name="l-119"></a><span class="tm">13:51:11</span><span class="nk"> &lt;alinefm&gt;</span> once you started a Task you can get its information using the API /tasks
<a name="l-120"></a><span class="tm">13:51:35</span><span class="nk"> &lt;samhenri&gt;</span> yes, but guests and storages do have a function to get ongoingtasks
<a name="l-121"></a><span class="tm">13:51:46</span><span class="nk"> &lt;alinefm&gt;</span> samhenri, correct
<a name="l-122"></a><span class="tm">13:52:16</span><span class="nk"> &lt;alinefm&gt;</span> when building any Tab which has interactions with Tasks, the UI code should request those tasks and properly update the UI to reflect it
<a name="l-123"></a><span class="tm">13:52:48</span><span class="nk"> &lt;alinefm&gt;</span> similar to what we do that (GET /tasks?target_uri=/plugins/kimchi/vms/*/clone =&gt; which will get all cloning guests)
<a name="l-124"></a><span class="tm">13:53:23</span><span class="nk"> &lt;alinefm&gt;</span> I can see a problem with the package update because in that case the backend blocks a new request when one is already running (which I agree it is a problem and can not be solved on UI)
<a name="l-125"></a><span class="tm">13:54:20</span><span class="nk"> &lt;alinefm&gt;</span> but let's say, backend allows simultaneous request to /packagesupdate API, it will allow UI to keep tracking of those tasks to inform user on what is being done
<a name="l-126"></a><span class="tm">13:54:27</span><span class="nk"> &lt;alinefm&gt;</span> does that make sense?
<a name="l-127"></a><span class="tm">14:00:59</span><span class="nk"> &lt;peterpennings&gt;</span> alinefm, I didn't understand the simultaneous requests
<a name="l-128"></a><span class="tm">14:04:31</span><span class="nk"> &lt;alinefm&gt;</span> peterpennings, if you do POST /packagesupdate/packageA/upgrade + POST /packagesupdate/packageB/upgrade
<a name="l-129"></a><span class="tm">14:04:45</span><span class="nk"> &lt;alinefm&gt;</span> the second request will return an error saying the package manager is already running
<a name="l-130"></a><span class="tm">14:05:01</span><span class="nk"> &lt;alinefm&gt;</span> and in fact it is running to complete the first request related to packageA
<a name="l-131"></a><span class="tm">14:05:32</span><span class="nk"> &lt;alinefm&gt;</span> peterpennings, because that you are doing the queue on UI side, waiting the packageA to complete to then send a new request
<a name="l-132"></a><span class="tm">14:06:05</span><span class="nk"> &lt;alinefm&gt;</span> if the session timeout or user switches tabs before you do the second request (packageB) you loose information about which packages to be update
<a name="l-133"></a><span class="tm">14:06:07</span><span class="nk"> &lt;alinefm&gt;</span> *updated
<a name="l-134"></a><span class="tm">14:06:21</span><span class="nk"> &lt;samhenri&gt;</span> alinefm exactly. the problem is that we can't store this "update queue" of selected packages with the UI
<a name="l-135"></a><span class="tm">14:06:28</span><span class="nk"> &lt;alinefm&gt;</span> correct
<a name="l-136"></a><span class="tm">14:06:56</span><span class="nk"> &lt;samhenri&gt;</span> even with a onGoingTasks() in the update panel
<a name="l-137"></a><span class="tm">14:07:06</span><span class="nk"> &lt;alinefm&gt;</span> if we change the backend to wait the package manager to complete the request for packageA to then process the request for packageB, we solve that problem
<a name="l-138"></a><span class="tm">14:07:13</span><span class="nk"> &lt;samhenri&gt;</span> it would get only the last package that was running
<a name="l-139"></a><span class="tm">14:07:21</span><span class="nk"> &lt;alinefm&gt;</span> correct
<a name="l-140"></a><span class="tm">14:07:25</span><span class="nk"> &lt;peterpennings&gt;</span> perfect alinefm
<a name="l-141"></a><span class="tm">14:07:33</span><span class="nk"> &lt;alinefm&gt;</span> once the backend receives the request a Task will be created
<a name="l-142"></a><span class="tm">14:07:58</span><span class="nk"> &lt;alinefm&gt;</span> so you can use GET /tasks?target_uri=/plugins/gingerbase/packagesupdate/*/upgrade to get all those in progress
<a name="l-143"></a><span class="tm">14:08:08</span><span class="nk"> &lt;samhenri&gt;</span> and a status like "pending"
<a name="l-144"></a><span class="tm">14:08:19</span><span class="nk"> &lt;peterpennings&gt;</span> but I want to do this for all tasks in the system, a window to see all async tasks and then I know that is going on.
<a name="l-145"></a><span class="tm">14:08:51</span><span class="nk"> &lt;peterpennings&gt;</span> When you were talking with pvital to rethink about the tasks API, I told to consider this problem
<a name="l-146"></a><span class="tm">14:10:19</span><span class="nk"> &lt;alinefm&gt;</span> samhenri, yeap! we can do something like it
<a name="l-147"></a><span class="tm">14:10:47</span><span class="nk"> &lt;alinefm&gt;</span> peterpennings, as I said in the ML, I agree and like this idea to have a single way to see all the running Tasks and control them
<a name="l-148"></a><span class="tm">14:10:55</span><span class="nk"> &lt;alinefm&gt;</span> specially if we will be able to stop them
<a name="l-149"></a><span class="tm">14:11:05</span><span class="nk"> &lt;danielhb&gt;</span> peterpennings, any ETA on the v3 of the package update UI with the frontend  fixes unrelated to this API discussion?
<a name="l-150"></a><span class="tm">14:11:08</span><span class="nk"> &lt;alinefm&gt;</span> but due the time, I think we need to postpone it for the next release
<a name="l-151"></a><span class="tm">14:11:23</span><span class="nk"> &lt;peterpennings&gt;</span> I know that it can not be doing right now, but I just want to consider this
<a name="l-152"></a><span class="tm">14:11:56</span><span class="nk"> &lt;peterpennings&gt;</span> maybe a parameter in the API to know what the origin of this tasks is a good idea too
<a name="l-153"></a><span class="tm">14:12:43</span><span class="nk"> &lt;alinefm&gt;</span> peterpennings, do you mean something readable for the target_uri?
<a name="l-154"></a><span class="tm">14:14:13</span><span class="nk"> &lt;peterpennings&gt;</span> yes
<a name="l-155"></a><span class="tm">14:14:40</span><span class="nk"> &lt;peterpennings&gt;</span> danielhb, Friday morning
<a name="l-156"></a><span class="tm">14:15:02</span><span class="nk"> &lt;danielhb&gt;</span> peterpennings, ok
<a name="l-157"></a><span class="tm">14:15:46</span><span class="nk"> &lt;alinefm&gt;</span> peterpennings, got it
<a name="l-158"></a><span class="tm">14:15:51</span><span class="nk"> &lt;alinefm&gt;</span> we are over time
<a name="l-159"></a><span class="tm">14:15:55</span><span class="nk"> &lt;alinefm&gt;</span> anything else for today?
<a name="l-160"></a><span class="tm">14:16:09</span><span class="nk"> &lt;peterpennings&gt;</span> we can discuss this better later.. thanks for the attention
<a name="l-161"></a><span class="tm">14:16:53</span><span class="nk"> &lt;alinefm&gt;</span> yw!
<a name="l-162"></a><span class="tm">14:17:17</span><span class="nk"> &lt;alinefm&gt;</span> I will think about a solution to backend issue and send an RFC to the ML
<a name="l-163"></a><span class="tm">14:17:26</span><span class="nk"> &lt;peterpennings&gt;</span> great!
<a name="l-164"></a><span class="tm">14:17:28</span><span class="nk"> &lt;alinefm&gt;</span> thanks everyone for joining!
<a name="l-165"></a><span class="tm">14:17:32</span><span class="nk"> &lt;alinefm&gt;</span> <span class="cmd">#endmeeting</span><span class="cmdline"></span></pre>
</body></html>
